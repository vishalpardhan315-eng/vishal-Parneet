<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Vishal üñ§ Parneet</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
:root{
  --bg0:#020107;
  --bg1:#070012;
  --bg2:#140019;
  --moon:#bcd6ff;

  --accent:#ff2d6f;
  --accent2:#ff66b2;
  --text:#ffffff;

  --glass:rgba(255,255,255,.06);
  --border:rgba(255,255,255,.12);
}

*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at 70% 15%, rgba(188,214,255,.18), transparent 38%),
    radial-gradient(circle at 25% 75%, rgba(255,45,111,.10), transparent 42%),
    linear-gradient(135deg, var(--bg0), var(--bg1) 45%, var(--bg2));
  color:var(--text);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Tap overlay (best ‚Äúauto‚Äù allowed by browsers) */
#tapOverlay{
  position:fixed; inset:0; z-index:9999;
  display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,.65);
  backdrop-filter: blur(10px);
  color:#fff; text-align:center; padding:24px;
}
#tapOverlay .box{
  max-width:560px;
  padding:22px 18px;
  border-radius:22px;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 24px 80px rgba(0,0,0,.6);
}
#tapOverlay .title{
  font-family:Cinzel,serif;
  font-weight:800;
  letter-spacing:.6px;
  font-size:22px;
}
#tapOverlay .sub{
  margin-top:10px;
  opacity:.85;
  font-size:14px;
  line-height:1.35;
}

/* Stars */
.stars{position:absolute; inset:0; pointer-events:none; z-index:0}
.star{
  position:absolute; width:2px; height:2px; border-radius:50%;
  background:#fff;
  box-shadow: 0 0 10px rgba(188,214,255,.45);
  opacity:.25;
  animation:twinkle 3.2s ease-in-out infinite;
}
@keyframes twinkle{
  0%,100%{opacity:.18; transform:scale(.9)}
  50%{opacity:.95; transform:scale(1.35)}
}

/* Fog */
.fog{
  position:absolute; inset:-30%;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.07), transparent 45%),
    radial-gradient(circle at 60% 60%, rgba(255,255,255,.05), transparent 50%),
    radial-gradient(circle at 80% 25%, rgba(255,45,111,.05), transparent 55%);
  filter:blur(60px);
  animation:drift 12s ease-in-out infinite alternate;
  pointer-events:none;
  z-index:1;
}
@keyframes drift{ to{transform:translate(2%,2%) scale(1.05)} }

/* Moon */
.moon{
  position:absolute;
  top:6vh; right:10vw;
  width:170px; height:170px;
  border-radius:50%;
  background:radial-gradient(circle at 35% 35%, #fff, var(--moon) 45%, rgba(188,214,255,.25) 70%, transparent 76%);
  box-shadow:0 0 45px rgba(188,214,255,.35),0 0 140px rgba(188,214,255,.18);
  animation:moonPulse 4.5s ease-in-out infinite;
  z-index:2;
}
@keyframes moonPulse{ 50%{transform:scale(1.04); filter:brightness(1.08)} }

/* Bats */
.bat{
  position:absolute;
  font-size:22px;
  opacity:.7;
  z-index:2;
  animation:fly linear infinite;
}
@keyframes fly{
  from{transform:translateX(-10vw) scale(1)}
  to{transform:translateX(110vw) scale(1.2)}
}

/* Floating hearts */
.floatLayer{position:absolute; inset:0; pointer-events:none; z-index:3}
.h{
  position:absolute; bottom:-40px;
  opacity:0;
  animation:rise linear infinite;
  filter: drop-shadow(0 0 12px rgba(255,45,111,.30));
}
@keyframes rise{
  0%{transform:translateY(0) scale(.95); opacity:0}
  12%{opacity:.9}
  100%{transform:translateY(-120vh) scale(1.35); opacity:0}
}

/* Card */
.card{
  position:relative;
  z-index:5;
  width:min(920px,92vw);
  padding:42px 28px 30px;
  border-radius:28px;
  background:var(--glass);
  backdrop-filter:blur(12px);
  border:1px solid var(--border);
  box-shadow:0 24px 90px rgba(0,0,0,.75);
  text-align:center;
}

/* Candles */
.candles{
  display:flex;
  justify-content:center;
  gap:24px;
  margin-bottom:12px;
}
.candle{
  width:10px; height:34px;
  background:#eee;
  border-radius:4px;
  position:relative;
  box-shadow: inset 0 -6px 10px rgba(0,0,0,.25);
}
.flame{
  position:absolute;
  top:-14px; left:50%;
  width:10px; height:14px;
  background:orange;
  border-radius:50%;
  transform:translateX(-50%);
  box-shadow:0 0 12px rgba(255,140,0,.9);
  animation:flicker .14s infinite alternate;
}
@keyframes flicker{ to{transform:translateX(-50%) scale(1.15)} }

/* Text */
h1{
  margin:0;
  font-family:"Great Vibes",cursive;
  font-size:clamp(48px,7vw,96px);
  color:#ffe2f0;
  text-shadow:
    0 0 18px rgba(255,102,178,.35),
    0 0 46px rgba(255,45,111,.22);
}
.sub{
  margin:10px 0 16px;
  opacity:.9;
  font-size:clamp(14px,2.2vw,18px);
}

.names{
  display:inline-flex;
  align-items:center;
  gap:14px;
  padding:14px 22px;
  border-radius:999px;
  background:rgba(255,45,111,.08);
  border:1px solid rgba(255,45,111,.25);
  box-shadow: 0 0 45px rgba(255,45,111,.14);
  margin-top:6px;
}
.name{font-family:"Cinzel",serif; font-weight:800; letter-spacing:1px}
.heart{font-size:28px; animation:beat 1.2s infinite; text-shadow:0 0 18px rgba(255,45,111,.55)}
@keyframes beat{ 50%{transform:scale(1.3)} }

.msg{
  margin-top:16px;
  opacity:.92;
  line-height:1.55;
  font-size:clamp(14px,2.2vw,18px);
}

/* Counter */
.counter{
  display:inline-block;
  margin-top:14px;
  padding:10px 14px;
  border-radius:999px;
  background: rgba(188,214,255,.08);
  border: 1px solid rgba(188,214,255,.18);
  font-family:"Cinzel",serif;
  font-weight:700;
  letter-spacing:.4px;
  opacity:.95;
}

/* Secret */
.secretWrap{
  margin-top:16px;
  display:flex;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
}
.secretInput{
  padding:11px 14px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color:#fff;
  outline:none;
  width:min(300px, 80vw);
}
.secretBtn, button{
  padding:11px 16px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(255,255,255,.08);
  color:#fff;
  font-weight:800;
  cursor:pointer;
  transition:.2s;
}
.secretBtn:hover, button:hover{transform:translateY(-2px); background:rgba(255,255,255,.15)}
.secretMsg{
  margin-top:12px;
  max-width: 62ch;
  margin-left:auto;
  margin-right:auto;
  opacity:0;
  transform: translateY(8px);
  transition: .9s ease;
  font-size:clamp(14px,2.2vw,18px);
}
.secretMsg.show{
  opacity:.95;
  transform: translateY(0);
}
.secretMsg b{
  color:#ffd6ea;
  text-shadow:0 0 16px rgba(255,102,178,.25);
}

/* Controls */
.controls{
  margin-top:18px;
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
.note{
  margin-top:10px;
  font-size:12px;
  opacity:.75;
}

/* Sparkles */
.sparkle {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: rgba(255,255,255,.95);
  box-shadow: 0 0 12px rgba(255,102,178,.65), 0 0 18px rgba(188,214,255,.45);
  pointer-events: none;
  animation: sparklePop 900ms ease-out forwards;
  opacity: 0;
}
@keyframes sparklePop{
  0%   { transform: translate(0,0) scale(.6); opacity: 0; }
  15%  { opacity: 1; }
  100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
}

/* Success glow */
.secretSuccessGlow { animation: successGlow 900ms ease-out; }
@keyframes successGlow{
  0% { box-shadow: 0 0 0 rgba(255,45,111,0); }
  35% { box-shadow: 0 0 45px rgba(255,45,111,.35); }
  100% { box-shadow: 0 0 0 rgba(255,45,111,0); }
}
</style>
</head>

<body>

<!-- Tap overlay -->
<div id="tapOverlay">
  <div class="box">
    <div class="title">Tap anywhere to start the music üé∂</div>
    <div class="sub">Browser rules require one tap. After that, it plays smoothly under the moonlight. üåôüñ§</div>
  </div>
</div>

<div class="stars" id="stars"></div>
<div class="fog"></div>
<div class="moon"></div>
<div class="floatLayer" id="floatLayer"></div>

<div class="card">
  <div class="candles">
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
    <div class="candle"><div class="flame"></div></div>
  </div>

  <h1>I Love You</h1>
  <div class="sub">Moonlight love ‚Äî cute heart, dark vibe üñ§‚ú®</div>

  <div class="names">
    <span class="name">Vishal</span>
    <span class="heart">üñ§</span>
    <span class="name">Parneet</span>
  </div>

  <!-- Shayari container (hidden until music starts) -->
  <div class="msg" id="mainMsg" style="opacity:0; transform: translateY(6px); transition: 800ms ease;">
    <div id="shayariLine1"></div>
    <div id="shayariLine2"></div>
    <div id="shayariLine3" style="margin-top:10px; opacity:.9; font-family:'Cinzel',serif;"></div>
  </div>

  <div class="counter" id="counter">Days since we met: ‚Ä¶</div>

  <div class="secretWrap">
    <input class="secretInput" id="secretInput" placeholder="Type your name to unlock üíå" />
    <button class="secretBtn" id="unlockBtn">üîê Unlock</button>
  </div>
  <div class="secretMsg" id="secretMsg"></div>

  <div class="controls">
    <button id="playBtn">‚ñ∂ Play music</button>
    <button id="moreLove">‚ú® More love</button>
  </div>
  <div class="note" id="status">Tap once to start. Song will play (fallback piano if blocked).</div>
</div>

<audio id="song" preload="auto" loop></audio>

<script>
/* =========================
   SETTINGS
   ========================= */
const MET_DATE = "2025-06-15";        // 234 days before Feb 4, 2026
const SECRET_NAME = "Parneet";

// Royalty-free slow emotional instrumental (MP3). If blocked, fallback piano will play.
const SONG_URL = "https://cdn.pixabay.com/download/audio/2022/02/23/audio_6f3f3c2b52.mp3";

/* =========================
   BACKGROUND VISUALS
   ========================= */
const stars=document.getElementById("stars");
for(let i=0;i<75;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.top=Math.random()*60+"vh";
  s.style.animationDelay=(Math.random()*3.2)+"s";
  s.style.opacity=(0.12+Math.random()*0.65);
  stars.appendChild(s);
}

// Bats
for(let i=0;i<6;i++){
  const b=document.createElement("div");
  b.className="bat";
  b.textContent="ü¶á";
  b.style.top=(6+Math.random()*20)+"vh";
  b.style.left=(-10 - Math.random()*40) + "vw";
  b.style.animationDuration=(12+Math.random()*9)+"s";
  b.style.animationDelay=(Math.random()*6)+"s";
  document.body.appendChild(b);
}

// Hearts
const layer=document.getElementById("floatLayer");
const hearts=["üñ§","üíó","üíñ","üíû","üíï"];
function heart(extra=false){
  const h=document.createElement("div");
  h.className="h";
  h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(18+Math.random()*26)+"px";
  const dur = extra ? (3.5+Math.random()*3.5) : (6+Math.random()*6);
  h.style.animationDuration=dur+"s";
  layer.appendChild(h);
  setTimeout(()=>h.remove(), (dur+1)*1000);
}
setInterval(()=>heart(false), 420);
document.getElementById("moreLove").onclick=()=>{ for(let i=0;i<24;i++) heart(true); };

/* =========================
   COUNTER
   ========================= */
function daysSince(dateStr){
  const [y,m,d]=dateStr.split("-").map(Number);
  const met = new Date(y, m-1, d);
  const now = new Date();
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  const diffMs = today - met;
  return Math.max(0, Math.floor(diffMs / (1000*60*60*24)));
}
document.getElementById("counter").textContent =
  `Days since we met: ${daysSince(MET_DATE)} üñ§`;

/* =========================
   SECRET UNLOCK + EFFECTS
   ========================= */
const secretInput = document.getElementById("secretInput");
const secretMsg = document.getElementById("secretMsg");
const unlockBtn = document.getElementById("unlockBtn");

function showSecret(text){
  secretMsg.innerHTML = text;
  secretMsg.classList.add("show");
}

function burstHearts(count = 30){
  for(let i=0;i<count;i++) heart(true);
}

function sparkleBurstAround(element, count = 18){
  const rect = element.getBoundingClientRect();
  for(let i=0;i<count;i++){
    const sp = document.createElement("div");
    sp.className = "sparkle";
    const x = rect.left + rect.width/2;
    const y = rect.top + rect.height/2;
    sp.style.left = x + "px";
    sp.style.top  = y + "px";
    sp.style.setProperty("--dx", (Math.random()*160 - 80) + "px");
    sp.style.setProperty("--dy", (Math.random()*160 - 80) + "px");
    sp.style.animationDelay = (Math.random()*120) + "ms";
    document.body.appendChild(sp);
    setTimeout(()=>sp.remove(), 1100);
  }
}

unlockBtn.onclick = ()=>{
  const typed = (secretInput.value || "").trim().toLowerCase();
  if(!typed){
    showSecret(`Type your name first üòä`);
    return;
  }
  if(typed === SECRET_NAME.trim().toLowerCase()){
    showSecret(`Unlocked üíå <br><br>
      <b>Parneet</b>, you are my calm in every storm. <br>
      If love had a home, it would be you. üñ§üåô`);

    // Romantic effects
    burstHearts(35);
    sparkleBurstAround(secretInput, 22);
    sparkleBurstAround(document.querySelector(".names"), 16);

    const card = document.querySelector(".card");
    card.classList.remove("secretSuccessGlow");
    void card.offsetWidth;
    card.classList.add("secretSuccessGlow");
  }else{
    showSecret(`Hmm‚Ä¶ not unlocked üòÖ<br>Hint: use <b>${SECRET_NAME}</b>`);
  }
};

/* =========================
   SHAYARI TYPING AFTER MUSIC STARTS
   ========================= */
let shayariStarted = false;

function typeText(el, text, speed=35){
  return new Promise((resolve)=>{
    el.textContent = "";
    let i = 0;
    const timer = setInterval(()=>{
      el.textContent += text[i];
      i++;
      if(i >= text.length){
        clearInterval(timer);
        resolve();
      }
    }, speed);
  });
}

async function startShayariTyping(){
  if(shayariStarted) return;
  shayariStarted = true;

  const mainMsg = document.getElementById("mainMsg");
  const l1 = document.getElementById("shayariLine1");
  const l2 = document.getElementById("shayariLine2");
  const l3 = document.getElementById("shayariLine3");

  mainMsg.style.opacity = "1";
  mainMsg.style.transform = "translateY(0)";

  await typeText(l1, "‡§§‡•Å‡§ù‡§∏‡•á ‡§Æ‡§ø‡§≤‡§ï‡§∞ ‡§≤‡§ó‡§æ ‡§∏‡§ö‡•ç‡§ö‡•Ä ‡§Æ‡•ã‡§π‡§¨‡•ç‡§¨‡§§ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à,", 32);
  await new Promise(r=>setTimeout(r, 250));
  await typeText(l2, "‡§µ‡§∞‡§®‡§æ ‡§π‡§Æ ‡§§‡•ã ‡§¨‡§∏ ‡§ï‡§ø‡§§‡§æ‡§¨‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§™‡§¢‡§º‡§æ ‡§ï‡§∞‡§§‡•á ‡§•‡•á‡•§ üñ§üåô", 32);

  await new Promise(r=>setTimeout(r, 500));
  l3.textContent = "234 days & still choosing you. üñ§";
}

/* =========================
   MUSIC: Song (try) + fallback piano
   ========================= */
const statusEl = document.getElementById("status");
const playBtn = document.getElementById("playBtn");
const song = document.getElementById("song");

let usingSong = true;
let isPlaying = false;

// setup song
song.src = SONG_URL;
song.volume = 0.0;

// fade song volume
function fadeSongTo(target=0.32, ms=2500){
  const steps = 60;
  const stepTime = ms/steps;
  const start = song.volume;
  const diff = target - start;
  let i=0;
  const t=setInterval(()=>{
    i++;
    song.volume = Math.min(1, Math.max(0, start + diff*(i/steps)));
    if(i>=steps) clearInterval(t);
  }, stepTime);
}

/* Piano fallback (Web Audio) */
let audioCtx = null;
let loopTimer = null;

const chords = [
  ["A3","C4","E4"],
  ["F3","A3","C4"],
  ["G3","B3","D4"],
  ["E3","G3","B3"]
];
const A4 = 440;
const noteToFreq = (note)=>{
  const map = {C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11};
  const m = note.match(/^([A-G][b#]?)(\d)$/);
  const n = m[1], oct = parseInt(m[2],10);
  const semis = (oct-4)*12 + (map[n]-9);
  return A4 * Math.pow(2, semis/12);
};

function playNote(freq, t, dur=0.9){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  const lp = audioCtx.createBiquadFilter();

  osc.type = "triangle";
  osc.frequency.setValueAtTime(freq, t);

  lp.type = "lowpass";
  lp.frequency.setValueAtTime(2200, t);
  lp.Q.setValueAtTime(0.8, t);

  gain.gain.setValueAtTime(0.0001, t);
  gain.gain.exponentialRampToValueAtTime(0.18, t + 0.02);
  gain.gain.exponentialRampToValueAtTime(0.04, t + 0.25);
  gain.gain.exponentialRampToValueAtTime(0.0001, t + dur);

  osc.connect(lp); lp.connect(gain); gain.connect(audioCtx.destination);
  osc.start(t);
  osc.stop(t + dur + 0.05);
}

function startPiano(){
  if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const tempo = 72;
  const step = 60/tempo/2;
  let chordIndex = 0;
  let stepIndex = 0;

  function tick(){
    const now = audioCtx.currentTime + 0.03;
    const chord = chords[chordIndex];
    const pattern = [0,1,2,1];
    const note = chord[pattern[stepIndex % 4]];
    playNote(noteToFreq(note), now, 0.85);
    stepIndex++;
    if(stepIndex % 8 === 0) chordIndex = (chordIndex + 1) % chords.length;
  }

  tick();
  loopTimer = setInterval(tick, step*1000);
}
function stopPiano(){
  if(loopTimer) clearInterval(loopTimer);
  loopTimer = null;
}

async function playMusic(){
  if(isPlaying){
    // pause
    if(usingSong){
      song.pause();
    }else{
      stopPiano();
    }
    isPlaying = false;
    playBtn.textContent = "‚ñ∂ Play music";
    statusEl.textContent = "Paused.";
    return;
  }

  // start
  try{
    if(usingSong){
      await song.play();
      fadeSongTo(0.32, 2800);
      isPlaying = true;
      playBtn.textContent = "‚è∏ Pause music";
      statusEl.textContent = "Playing‚Ä¶ üé∂üñ§";
      startShayariTyping();
    }else{
      if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      await audioCtx.resume();
      startPiano();
      isPlaying = true;
      playBtn.textContent = "‚è∏ Pause music";
      statusEl.textContent = "Playing‚Ä¶ üéπüñ§";
      startShayariTyping();
    }
  }catch(e){
    // Song blocked? switch to piano
    if(usingSong){
      usingSong = false;
      statusEl.textContent = "Song blocked. Switched to piano ‚úÖ Tap again.";
      playBtn.textContent = "‚ñ∂ Play music";
      isPlaying = false;
    }else{
      statusEl.textContent = "If on iPhone: silent mode off + tap again.";
    }
    throw e;
  }
}

playBtn.onclick = async ()=>{
  try{ await playMusic(); } catch(e) {}
};

/* Tap anywhere to start (overlay) */
const overlay = document.getElementById("tapOverlay");
async function startOnFirstTap(){
  try{
    await playMusic();
    overlay.style.display = "none";
    document.removeEventListener("pointerdown", startOnFirstTap);
    document.removeEventListener("touchstart", startOnFirstTap);
    document.removeEventListener("click", startOnFirstTap);
  }catch(e){
    // keep overlay so user can tap again
  }
}
document.addEventListener("pointerdown", startOnFirstTap);
document.addEventListener("touchstart", startOnFirstTap);
document.addEventListener("click", startOnFirstTap);
</script>

</body>
</html>

