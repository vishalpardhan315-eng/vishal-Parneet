<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Vishal üñ§ Parneet</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;800&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
:root{
  --bg0:#020107;
  --bg1:#070012;
  --bg2:#140019;
  --moon:#bcd6ff;
  --rose:#ff2d6f;
  --text:#ffffff;
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at 70% 15%, rgba(188,214,255,.18), transparent 38%),
    radial-gradient(circle at 25% 75%, rgba(255,45,111,.10), transparent 42%),
    linear-gradient(135deg, var(--bg0), var(--bg1) 45%, var(--bg2));
  color:var(--text);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Stars */
.stars{position:absolute; inset:0; pointer-events:none; z-index:0}
.star{
  position:absolute; width:2px; height:2px; border-radius:50%;
  background:#fff;
  box-shadow:0 0 10px rgba(188,214,255,.45);
  opacity:.25;
  animation:twinkle 3.2s ease-in-out infinite;
}
@keyframes twinkle{
  0%,100%{opacity:.18; transform:scale(.9)}
  50%{opacity:.95; transform:scale(1.35)}
}

/* Fog */
.fog{
  position:absolute; inset:-30%;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.07), transparent 45%),
    radial-gradient(circle at 60% 60%, rgba(255,255,255,.05), transparent 50%);
  filter:blur(60px);
  animation:drift 12s ease-in-out infinite alternate;
  pointer-events:none;
  z-index:1;
}
@keyframes drift{ to{transform:translate(2%,2%) scale(1.05)} }

/* Moon */
.moon{
  position:absolute;
  top:6vh; right:10vw;
  width:170px; height:170px;
  border-radius:50%;
  background:radial-gradient(circle at 35% 35%, #fff, var(--moon) 45%, rgba(188,214,255,.25) 70%, transparent 76%);
  box-shadow:0 0 45px rgba(188,214,255,.35),0 0 140px rgba(188,214,255,.18);
  animation:moonPulse 4.5s ease-in-out infinite;
  z-index:2;
}
@keyframes moonPulse{ 50%{transform:scale(1.04); filter:brightness(1.08)} }

/* Bats */
.bat{
  position:absolute;
  top:10vh;
  font-size:22px;
  opacity:.7;
  z-index:2;
  animation:fly linear infinite;
}
@keyframes fly{
  from{transform:translateX(-10vw) scale(1)}
  to{transform:translateX(110vw) scale(1.2)}
}

/* Floating hearts */
.floatLayer{position:absolute; inset:0; pointer-events:none; z-index:3}
.h{
  position:absolute;
  bottom:-40px;
  opacity:0;
  animation:rise linear infinite;
  filter: drop-shadow(0 0 12px rgba(255,45,111,.30));
}
@keyframes rise{
  0%{transform:translateY(0) scale(.95); opacity:0}
  12%{opacity:.9}
  100%{transform:translateY(-120vh) scale(1.35); opacity:0}
}

/* Card */
.card{
  position:relative;
  z-index:5;
  width:min(900px,92vw);
  padding:42px 28px 36px;
  border-radius:28px;
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(12px);
  border:1px solid rgba(255,255,255,.12);
  box-shadow:0 24px 90px rgba(0,0,0,.75);
  text-align:center;
}

/* Candles */
.candles{
  display:flex;
  justify-content:center;
  gap:24px;
  margin-bottom:12px;
}
.candle{
  width:10px;
  height:34px;
  background:#eee;
  border-radius:4px;
  position:relative;
  box-shadow: inset 0 -6px 10px rgba(0,0,0,.25);
}
.flame{
  position:absolute;
  top:-14px;
  left:50%;
  width:10px;
  height:14px;
  background:orange;
  border-radius:50%;
  transform:translateX(-50%);
  box-shadow:0 0 12px rgba(255,140,0,.9);
  animation:flicker .14s infinite alternate;
}
@keyframes flicker{ to{transform:translateX(-50%) scale(1.15)} }

/* Text */
h1{
  margin:0;
  font-family:"Great Vibes",cursive;
  font-size:clamp(48px,7vw,96px);
  color:#ffe2f0;
  text-shadow:0 0 18px rgba(255,102,178,.35),0 0 40px rgba(255,45,111,.22);
}
.names{
  margin-top:14px;
  display:inline-flex;
  align-items:center;
  gap:14px;
  padding:14px 22px;
  border-radius:999px;
  background:rgba(255,45,111,.08);
  border:1px solid rgba(255,45,111,.25);
  box-shadow: 0 0 45px rgba(255,45,111,.14);
}
.name{font-family:"Cinzel",serif; font-weight:800}
.heart{font-size:28px; animation:beat 1.2s infinite; text-shadow:0 0 18px rgba(255,45,111,.55)}
@keyframes beat{ 50%{transform:scale(1.3)} }

.msg{ margin-top:18px; opacity:.9; line-height:1.5; font-size:clamp(14px,2.2vw,18px) }

/* Buttons */
.controls{
  margin-top:18px;
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
}
button{
  padding:11px 16px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.2);
  background:rgba(255,255,255,.08);
  color:#fff;
  font-weight:800;
  cursor:pointer;
  transition:.2s;
}
button:hover{transform:translateY(-2px); background:rgba(255,255,255,.15)}
.note{ margin-top:10px; font-size:12px; opacity:.75 }
</style>
</head>

<body>
  <div class="stars" id="stars"></div>
  <div class="fog"></div>
  <div class="moon"></div>
  <div class="floatLayer" id="floatLayer"></div>

  <div class="card">
    <div class="candles">
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
      <div class="candle"><div class="flame"></div></div>
    </div>

    <h1>I Love You</h1>

    <div class="names">
      <span class="name">Vishal</span>
      <span class="heart">üñ§</span>
      <span class="name">Parneet</span>
    </div>

    <div class="msg">
      Under moonlight, candles, and quiet hearts ‚Äî<br>
      it will always be you. üåôüïØÔ∏è
    </div>

    <div class="controls">
      <button id="playBtn">‚ñ∂ Play piano</button>
      <button id="moreLove">‚ú® More love</button>
    </div>
    <div class="note" id="status">Tap Play once ‚Äî piano is generated in code (no MP3 needed).</div>
  </div>

<script>
/* Stars */
const stars=document.getElementById("stars");
for(let i=0;i<75;i++){
  const s=document.createElement("div");
  s.className="star";
  s.style.left=Math.random()*100+"vw";
  s.style.top=Math.random()*60+"vh";
  s.style.animationDelay=(Math.random()*3.2)+"s";
  s.style.opacity=(0.12+Math.random()*0.65);
  stars.appendChild(s);
}

/* Bats */
for(let i=0;i<5;i++){
  const b=document.createElement("div");
  b.className="bat";
  b.textContent="ü¶á";
  b.style.top=(8+Math.random()*18)+"vh";
  b.style.animationDuration=(12+Math.random()*8)+"s";
  b.style.animationDelay=(Math.random()*6)+"s";
  document.body.appendChild(b);
}

/* Hearts */
const layer=document.getElementById("floatLayer");
const hearts=["üñ§","üíó","üíñ","üíû","üíï"];
function heart(extra=false){
  const h=document.createElement("div");
  h.className="h";
  h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
  h.style.left=Math.random()*100+"vw";
  h.style.fontSize=(18+Math.random()*26)+"px";
  const dur = extra ? (3.5+Math.random()*3.5) : (6+Math.random()*6);
  h.style.animationDuration=dur+"s";
  layer.appendChild(h);
  setTimeout(()=>h.remove(), (dur+1)*1000);
}
setInterval(()=>heart(false), 420);
document.getElementById("moreLove").onclick=()=>{ for(let i=0;i<20;i++) heart(true); };

/* ‚úÖ Piano generated in code (Web Audio) */
let audioCtx = null;
let isPlaying = false;
let loopTimer = null;

const statusEl = document.getElementById("status");
const playBtn = document.getElementById("playBtn");

// A minor-ish romantic progression
const chords = [
  ["A3","C4","E4"],  // Am
  ["F3","A3","C4"],  // F
  ["G3","B3","D4"],  // G
  ["E3","G3","B3"]   // Em
];

// Note ‚Üí frequency
const A4 = 440;
const noteToFreq = (note)=>{
  const map = {C:0, "C#":1, Db:1, D:2, "D#":3, Eb:3, E:4, F:5, "F#":6, Gb:6, G:7, "G#":8, Ab:8, A:9, "A#":10, Bb:10, B:11};
  const m = note.match(/^([A-G][b#]?)(\d)$/);
  const n = m[1], oct = parseInt(m[2],10);
  const semis = (oct-4)*12 + (map[n]-9);
  return A4 * Math.pow(2, semis/12);
};

// soft ‚Äúpiano-like‚Äù pluck
function playNote(freq, t, dur=0.9){
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  const lp = audioCtx.createBiquadFilter();

  // triangle gives warmer piano-ish feel than sine
  osc.type = "triangle";
  osc.frequency.setValueAtTime(freq, t);

  lp.type = "lowpass";
  lp.frequency.setValueAtTime(2200, t);
  lp.Q.setValueAtTime(0.8, t);

  // envelope
  gain.gain.setValueAtTime(0.0001, t);
  gain.gain.exponentialRampToValueAtTime(0.18, t + 0.02);
  gain.gain.exponentialRampToValueAtTime(0.04, t + 0.25);
  gain.gain.exponentialRampToValueAtTime(0.0001, t + dur);

  osc.connect(lp);
  lp.connect(gain);
  gain.connect(audioCtx.destination);

  osc.start(t);
  osc.stop(t + dur + 0.05);
}

// loop arpeggio
function startPiano(){
  if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  const tempo = 72; // romantic slow
  const step = 60/tempo/2; // eighth notes
  let chordIndex = 0;
  let stepIndex = 0;

  // small fade-in master volume feel by ramping note velocity (handled via gain envelope)
  function tick(){
    const now = audioCtx.currentTime + 0.03;

    const chord = chords[chordIndex];
    // pattern: root -> third -> fifth -> third
    const pattern = [0,1,2,1];
    const note = chord[pattern[stepIndex % 4]];
    playNote(noteToFreq(note), now, 0.85);

    stepIndex++;
    if(stepIndex % 8 === 0){ // change chord every 8 steps
      chordIndex = (chordIndex + 1) % chords.length;
    }
  }

  tick();
  loopTimer = setInterval(tick, step*1000);
}

function stopPiano(){
  if(loopTimer) clearInterval(loopTimer);
  loopTimer = null;
}

playBtn.onclick = async ()=>{
  try{
    // Must be inside user gesture: audioCtx.resume() helps on iPhone/Safari
    if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    await audioCtx.resume();

    if(!isPlaying){
      startPiano();
      isPlaying = true;
      playBtn.textContent = "‚è∏ Pause piano";
      statusEl.textContent = "Playing‚Ä¶ üéπüñ§";
    }else{
      stopPiano();
      isPlaying = false;
      playBtn.textContent = "‚ñ∂ Play piano";
      statusEl.textContent = "Paused.";
    }
  }catch(e){
    statusEl.textContent = "If you're on iPhone: turn off silent mode + tap Play again.";
  }
};
</script>

</body>
</html>

